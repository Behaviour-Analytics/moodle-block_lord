/*! moodle-block_lord v0.3.6 21-09-2020 */
define(["block_lord/d3","block_lord/lord"],function(a,b){return{init:function(){function c(){this.C=null,this.row_covered=[],this.col_covered=[],this.n=0,this.Z0_r=0,this.Z0_c=0,this.marked=null,this.path=null}function d(a,b){var c,d;if(!b){var e=-1/0;for(c=0;c<a.length;++c)for(d=0;d<a[c].length;++d)a[c][d]>e&&(e=a[c][d]);b=function(a){return e-a}}var f=[];for(c=0;c<a.length;++c){var g=a[c];for(f[c]=[],d=0;d<g.length;++d)f[c][d]=b(a[c][d])}return f}function e(a){var b,c,d=[];for(b=0;b<a.length;++b)for(c=0;c<a[b].length;++c){var e=String(a[b][c]).length;(!d[c]||e>=d[c])&&(d[c]=e)}var f="";for(b=0;b<a.length;++b){for(c=0;c<a[b].length;++c){for(var g=String(a[b][c]);g.length<d[c];)g=" "+g;f+=g,c!=a[b].length-1&&(f+=" ")}b!=a[b].length-1&&(f+="\n")}return f}function f(a,b){return(new c).compute(a,b)}var g=parseInt(Number.MAX_SAFE_INTEGER/2)||4503599627370496,h=0;c.prototype.pad_matrix=function(a,b){b=b||h;var c,d=0,e=a.length;for(c=0;c<e;++c)a[c].length>d&&(d=a[c].length);e=d>e?d:e;var f=[];for(c=0;c<e;++c){for(var g=a[c]||[],i=g.slice();e>i.length;)i.push(b);f.push(i)}return f},c.prototype.compute=function(a,b){b=b||{},b.padValue=b.padValue||h,this.C=this.pad_matrix(a,b.padValue),this.n=this.C.length,this.original_length=a.length,this.original_width=a[0].length;for(var c=[];c.length<this.n;)c.push(!1);this.row_covered=c.slice(),this.col_covered=c.slice(),this.Z0_r=0,this.Z0_c=0,this.path=this.__make_matrix(2*this.n,0),this.marked=this.__make_matrix(this.n,0);for(var d=1,e={1:this.__step1,2:this.__step2,3:this.__step3,4:this.__step4,5:this.__step5,6:this.__step6},f=!0;f;){var g=e[d];if(!g)break;d=g.apply(this),f=!0}for(var i=[],j=0;j<this.original_length;++j)for(var k=0;k<this.original_width;++k)1==this.marked[j][k]&&i.push([j,k]);return i},c.prototype.__make_matrix=function(a,b){for(var c=[],d=0;d<a;++d){c[d]=[];for(var e=0;e<a;++e)c[d][e]=b}return c},c.prototype.__step1=function(){for(var a=0;a<this.n;++a)for(var b=Math.min.apply(Math,this.C[a]),c=0;c<this.n;++c)this.C[a][c]-=b;return 2},c.prototype.__step2=function(){for(var a=0;a<this.n;++a)for(var b=0;b<this.n;++b)if(0===this.C[a][b]&&!this.col_covered[b]&&!this.row_covered[a]){this.marked[a][b]=1,this.col_covered[b]=!0,this.row_covered[a]=!0;break}return this.__clear_covers(),3},c.prototype.__step3=function(){for(var a=0,b=0;b<this.n;++b)for(var c=0;c<this.n;++c)1==this.marked[b][c]&&0==this.col_covered[c]&&(this.col_covered[c]=!0,++a);return a>=this.n?7:4},c.prototype.__step4=function(){for(var a=!1,b=-1,c=-1,d=-1;!a;){var e=this.__find_a_zero();if(b=e[0],c=e[1],b<0)return 6;if(this.marked[b][c]=2,!((d=this.__find_star_in_row(b))>=0))return this.Z0_r=b,this.Z0_c=c,5;c=d,this.row_covered[b]=!0,this.col_covered[c]=!1,a=!1}},c.prototype.__step5=function(){var a=0;this.path[a][0]=this.Z0_r,this.path[a][1]=this.Z0_c;for(var b=!1;!b;){var c=this.__find_star_in_col(this.path[a][1]);if(c>=0?(a++,this.path[a][0]=c,this.path[a][1]=this.path[a-1][1]):b=!0,!b){var d=this.__find_prime_in_row(this.path[a][0]);a++,this.path[a][0]=this.path[a-1][0],this.path[a][1]=d}}return this.__convert_path(this.path,a),this.__clear_covers(),this.__erase_primes(),3},c.prototype.__step6=function(){for(var a=this.__find_smallest(),b=0;b<this.n;++b)for(var c=0;c<this.n;++c)this.row_covered[b]&&(this.C[b][c]+=a),this.col_covered[c]||(this.C[b][c]-=a);return 4},c.prototype.__find_smallest=function(){for(var a=g,b=0;b<this.n;++b)for(var c=0;c<this.n;++c)this.row_covered[b]||this.col_covered[c]||a>this.C[b][c]&&(a=this.C[b][c]);return a},c.prototype.__find_a_zero=function(){for(var a=0;a<this.n;++a)for(var b=0;b<this.n;++b)if(0===this.C[a][b]&&!this.row_covered[a]&&!this.col_covered[b])return[a,b];return[-1,-1]},c.prototype.__find_star_in_row=function(a){for(var b=0;b<this.n;++b)if(1==this.marked[a][b])return b;return-1},c.prototype.__find_star_in_col=function(a){for(var b=0;b<this.n;++b)if(1==this.marked[b][a])return b;return-1},c.prototype.__find_prime_in_row=function(a){for(var b=0;b<this.n;++b)if(2==this.marked[a][b])return b;return-1},c.prototype.__convert_path=function(a,b){for(var c=0;c<=b;++c)this.marked[a[c][0]][a[c][1]]=1==this.marked[a[c][0]][a[c][1]]?0:1},c.prototype.__clear_covers=function(){for(var a=0;a<this.n;++a)this.row_covered[a]=!1,this.col_covered[a]=!1},c.prototype.__erase_primes=function(){for(var a=0;a<this.n;++a)for(var b=0;b<this.n;++b)2==this.marked[a][b]&&(this.marked[a][b]=0)},f.version="1.2.2",f.format_matrix=e,f.make_cost_matrix=d,f.Munkres=c,window.dataDrivenDocs=a,window.lord=b,window.munkres=f}}});